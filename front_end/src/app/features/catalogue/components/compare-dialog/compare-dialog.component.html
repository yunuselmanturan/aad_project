<!-- features/catalogue/components/compare-dialog/compare-dialog.component.html -->
<h2>Compare Products</h2>

<div *ngIf="products.length === 0" class="text-center p-4">
  <div class="alert alert-warning">No products selected for comparison</div>
</div>

<div *ngIf="products.length > 0" class="compare-table">
  <!-- Header row with product names -->
  <div class="header">
    <div class="attribute-label"></div>
    <div *ngFor="let product of products" class="product-column">
      <h4>{{ product.name }}</h4>
      <img *ngIf="product.imageUrls && product.imageUrls.length > 0"
           [src]="product.imageUrls[0]"
           [alt]="product.name"
           class="product-image">
    </div>
  </div>

  <!-- Comparison rows for each attribute -->
  <div class="row" *ngFor="let attr of getComparisonAttributes()" [attr.data-attr]="attr">
    <div class="attribute-label">{{ getAttributeLabel(attr) }}</div>
    <div *ngFor="let product of products" class="product-column">
      {{ getAttributeValue(product, attr) }}
    </div>
  </div>
</div>

<div class="actions mt-4">
  <button class="btn btn-secondary" mat-dialog-close>Close</button>
</div>
